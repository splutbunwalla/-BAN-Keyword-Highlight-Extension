<!DOCTYPE html>
<html>
<head>
  <style>

@keyframes popupIn {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.main-container.closing {
  animation: popupOut 500ms ease-in forwards;
}

@keyframes popupOut {
  to {
    opacity: 0;
    transform: translateY(6px) scale(0.95);
  }
}

.main-container.disabled {
  opacity: 0.5;
  filter: grayscale(0.6);
  transform: scale(0.98);
  transition: 120ms ease;
}

html {
  background: #181a1d;
}

body {
  font-family: 'Segoe UI', Tahoma, sans-serif;
  width: 280px;
  margin: 0;
  padding: 8px;
  background: #181a1d;
  overflow: hidden;
}

.main-container { 
  background-color: #1e2124; 
  color: #ffffff; 
  border-radius: 16px; 
  border: 1px solid #333; 
  padding: 12px; 
  /* A subtle shadow makes the edge look crisp against the background */
  box-shadow: 0 4px 15px rgba(0,0,0,0.6); 
  display: flex; 
  flex-direction: column; 
  gap: 10px;
  overflow: hidden; 
  position: relative;
  animation: popupIn 500ms cubic-bezier(.2,.9,.3,1);
  transform-origin: top center;
}

::-webkit-scrollbar {
  width: 0px;
  background: transparent !important;
}

    /* 3. ALIGNMENT: Force Sliders/Colors to the Right Edge */
    .control-group { 
      margin-bottom: 5px; 
      padding-bottom: 10px; 
      border-bottom: 1px solid #333; 
    }

    .setting-row {
      display: grid;
      /* Label takes available space | Color box 30px | Slider 110px */
      grid-template-columns: 1fr 30px 110px; 
      align-items: center;
      gap: 8px;
      margin-top: 6px;
      width: 100%;
    }

    .setting-row label { font-size: 11px; color: #bbb; }

    input[type="color"] { 
      width: 24px; height: 24px; padding: 0; 
      border: 1px solid #111; border-radius: 4px; 
      background: none; cursor: pointer;
      justify-self: center;
    }   
    
    input[type="range"] { 
      width: 100%; margin: 0; cursor: pointer; 
      accent-color: #2196F3; 
    }

    input[type="text"] { 
      background-color: #40444b; border: 1px solid #222; 
      color: white; border-radius: 4px; padding: 4px;
    }
    
    input[type="text"]::placeholder { color: #888; }

    /* 4. LISTS & THEME SCROLLBAR */
    .keyword-list { 
      max-height: 100px; overflow-y: auto; 
      background-color: #2f3136; border-radius: 8px; 
      border: 1px solid #444; margin-bottom: 8px;
    }

    /* Dark slim scrollbar */
    .keyword-list::-webkit-scrollbar { width: 4px; display: block; }
    .keyword-list::-webkit-scrollbar-track { background: transparent; }
    .keyword-list::-webkit-scrollbar-thumb { background: #444; border-radius: 10px; }

    .keyword-item { 
      padding: 6px 8px;
      background-color: #2f3136; 
      border-bottom: 1px solid #1e2124; 
      display: flex; 
      align-items: center; 
      gap: 8px; 
      width: 100%; 
      box-sizing: border-box;
    }

    .add-keyword { display: flex; gap: 5px; margin-bottom: 5px; }
    .add-keyword input { flex-grow: 1; }

    /* Buttons */
    #add-msg-btn { 
      width: 24px !important; min-width: 24px; height: 24px;
      background-color: #4CAF50; color: white; border: none; 
      border-radius: 4px; font-weight: bold; cursor: pointer; 
    }

    .delete-btn { 
      background: transparent; border: none; color: #888; 
      cursor: pointer; font-size: 14px; 
      flex-shrink: 0; 
      margin-left: auto; 
    }
    .delete-btn:hover { color: #ff4d4d; }

    /* Header */
    .toggle-section { 
      display: flex; justify-content: space-between; 
      align-items: center; padding-bottom: 10px; border-bottom: 1px solid #333; 
    }
    .section-title-big { font-size: 14px; font-weight: bold; }
    .version-tag { font-size: 10px; color: #888; font-style: italic; }

    /* Toggle Switch */
    .switch { position: relative; display: inline-block; width: 34px; height: 18px; }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider { 
      position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; 
      background-color: #ccc; transition: .4s; border-radius: 20px; 
    }
    .slider:before { 
      position: absolute; content: ""; height: 12px; width: 12px; 
      left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; 
    }
    input:checked + .slider { background-color: #2196F3; }
    input:checked + .slider:before { transform: translateX(16px); }

    /* Message Spanning Button */
    .msg-grid-container { display: flex; gap: 5px; align-items: stretch; margin-top: 5px; }
    .msg-inputs { display: flex; flex-direction: column; gap: 4px; flex: 1; }
    #add-msg-btn { height: auto; width: 30px !important; font-size: 18px; }

    .item-label-text { font-weight: bold; color: #2196F3; font-size: 10px; text-transform: uppercase; }
    .item-text-val { color: #bbb; font-size: 11px; font-style: italic; }

    .item-info { 
      flex: 1; /* This is the magic property */
      min-width: 0; /* Allows text truncation to work properly */
      display: flex; 
      flex-direction: column; 
      gap: 2px;
    }

    .add-keyword.multiline {
        display: flex;
        gap: 5px;
    }
    
    .add-keyword textarea {
        flex: 1;
        background: #181a1d;
        border: 1px solid #444;
        color: white;
        padding: 5px;
        border-radius: 4px;
        resize: vertical; /* Allows user to drag it larger if needed */
        font-family: inherit;
        font-size: 12px;
    }
    
    .add-keyword button { 
	  height: auto; width: 30px !important; font-size: 18px;
      background-color: #4CAF50; color: white; border: none; 
      border-radius: 4px; font-weight: bold; cursor: pointer; 
    }
  </style>
</head>
<body>
  <div class="main-container">
    
    <div class="toggle-section">
      <div class="title-wrapper">
        <span class="section-title-big">Wreckfest 2 Admin Tool (HH)</span>
        <div class="version-tag">v1.6</div>
      </div>
      <label class="switch">
        <input type="checkbox" id="toggleCheckbox">
        <span class="slider round"></span>
      </label>
    </div>

    <div class="control-group">
      <div style="font-size: 12px; font-weight: bold; margin-bottom: 5px;">Primary Keywords</div>
      <div id="primary-list" class="keyword-list"></div>
	  <div class="add-keyword multiline">
		<textarea id="new-primary" placeholder="Add words (one per line)..." rows="3"></textarea>
		<button id="add-primary-btn">+</button>
	  </div>
	<div class="setting-row">
	<label>Primary Background</label>
	<input type="color" id="primaryColor" value="#ff0033">
	<input type="color" id="primaryColor2" value="#ff0033"> </div>
	<div class="setting-row">
	<label>Primary Text Color</label>
	<input type="color" id="primaryTextColor" value="#ffffff"> <input type="range" id="primaryAlpha" min="0" max="1" step="0.1" value="1">
	</div>
	</div>


    <div class="control-group">
      <div style="font-size: 12px; font-weight: bold; margin-bottom: 5px;">Secondary Keywords</div>
      <div id="secondary-list" class="keyword-list"></div>
  	  <div class="add-keyword multiline">
		<textarea id="new-secondary" placeholder="Add words (one per line)..." rows="3"></textarea>
		<button id="add-secondary-btn">+</button>
	  </div>
		<div class="setting-row">
		<label>Secondary Background</label>
		<input type="color" id="secondaryColor" value="#ffff33">
		<input type="color" id="secondaryColor2" value="#ffff33"> </div>
		<div class="setting-row">
		<label>Secondary Text Color</label>
		<input type="color" id="secondaryTextColor" value="#000000"> <input type="range" id="secondaryAlpha" min="0" max="1" step="0.1" value="0.5">
		</div>
    </div>

    <div class="control-group">
      <div class="setting-row">
        <label>SteamID Style</label>
        <input type="color" id="steamidColor" value="#ff8c00">
        <input type="range" id="steamidAlpha" min="0" max="1" step="0.1" value="0.5">
      </div>
    </div>

    <div class="control-group" style="border-bottom: none;">
      <div style="font-size: 12px; font-weight: bold; margin-bottom: 5px;">Messages</div>
      <div id="message-list" class="keyword-list" style="max-height: 80px;"></div>
      <div class="msg-grid-container">
        <div class="msg-inputs">
          <input type="text" id="new-msg-label" placeholder="Label">
          <input type="text" id="new-msg-text" placeholder="Message text...">
        </div>
        <button id="add-msg-btn">+</button>
      </div>
    </div>
    
  </div>
  <script src="popup.js"></script>
</body>
</html>